<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <input type="text" name="satır 01" maxlength="170" size ="170"/>
  <input type="text" name="satır 02" maxlength="170" size ="170"/>
  <input type="text" name="satır 03" maxlength="170" size ="170"/>
  <input type="text" name="satır 04" maxlength="170" size ="170"/>
  <input type="text" name="satır 05" maxlength="170" size ="170"/>
  <input type="text" name="satır 06" maxlength="170" size ="170"/>
  <input type="text" name="satır 07" maxlength="170" size ="170"/>
  <input type="text" name="satır 08" maxlength="170" size ="170"/>
  <input type="text" name="satır 09" maxlength="170" size ="170"/>
  <input type="text" name="satır 10" maxlength="170" size ="170"/>
  <input type="text" name="satır 11" maxlength="170" size ="170"/>
  <input type="text" name="satır 12" maxlength="170" size ="170"/>
  <input type="text" name="satır 13" maxlength="170" size ="170"/>
  <input type="text" name="satır 14" maxlength="170" size ="170"/>
  <input type="text" name="satır 15" maxlength="170" size ="170"/>
  <input type="text" name="satır 16" maxlength="170" size ="170"/>
  <input type="text" name="satır 17" maxlength="170" size ="170"/>
  <input type="text" name="satır 18" maxlength="170" size ="170"/>
  <input type="text" name="satır 19" maxlength="170" size ="170"/>
  <input type="text" name="satır 20" maxlength="170" size ="170"/>
  <input type="text" name="satır 21" maxlength="170" size ="170"/>
  <input type="text" name="satır 22" maxlength="170" size ="170"/>
  <input type="text" name="satır 23" maxlength="170" size ="170"/>
  <input type="text" name="satır 24" maxlength="170" size ="170"/>
  <input type="text" name="satır 25" maxlength="170" size ="170"/>

  <div class="overlay" id="overlay">
    <h2 id="gerisayim"></h2>
  </div>

  <h1>  You can add a character to any of the sentences every minute (25 Sentences, 170 Characters per) // Dakikada bir istedğin satıra bir karakter ekleyebilirsin (25 Satır, Her Satırda 170 Karakter!) </h1>

<script>
  const inputs = document.querySelectorAll("input");
  const overlay = document.getElementById('overlay');
  const countdown = document.getElementById('gerisayim');

  let timer = null;

  // Load saved inputs
  inputs.forEach((input, index) => {
    const saved = localStorage.getItem(`input-${index}`);
    if (saved !== null) {
      input.value = saved;
    }
  });

  // Check if cooldown is active
  const cooldownEnd = localStorage.getItem('cooldownEnd');
  if (cooldownEnd) {
    const now = Date.now();
    const timeLeft = Math.floor((cooldownEnd - now) / 1000);
    if (timeLeft > 0) {
      startCooldown(timeLeft);
    } else {
      localStorage.removeItem('cooldownEnd');
    }
  }

  function startCooldown(timeLeft = 60) {
    inputs.forEach(input => input.disabled = true);
    overlay.style.display = 'flex';
    countdown.textContent = `${timeLeft}`;

    const endTime = Date.now() + timeLeft * 1000;
    localStorage.setItem('cooldownEnd', endTime);

    timer = setInterval(() => {
      const now = Date.now();
      const remaining = Math.floor((endTime - now) / 1000);

      if (remaining > 0) {
        countdown.textContent = `${remaining}`;
      } else {
        clearInterval(timer);
        inputs.forEach(input => input.disabled = false);
        overlay.style.display = 'none';
        localStorage.removeItem('cooldownEnd');
      }
    }, 1000);
  }

  inputs.forEach((input, index) => {
    input.addEventListener('input', () => {
      // Save input value
      localStorage.setItem(`input-${index}`, input.value);
      // Start cooldown
      startCooldown();
    });
  });
</script>


</body>

</html>